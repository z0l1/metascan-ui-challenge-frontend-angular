<form [formGroup]="registerForm" (ngSubmit)="onSubmit()"
  class="flex flex-col items-stretch gap-4 mx-auto w-full lg:w-[30rem] bg-theme-4  py-4 px-3 rounded-md"
>
  <div class="text-2xl font-bold text-theme-1">Register</div>

  <div
    *ngIf="serverError"
    class="border border-red-500 p-2 text-theme-2"
  >
    <pre>{{serverError}}</pre>
  </div>

  <div class="input-wrapper">
    <label class="font-semibold text-xl">
      username
    </label>
    <input
      autofocus
      type="text"
      class="input-element"
      formControlName="username"
    >

    <div *ngIf="formUsername?.errors?.['required']">*required</div>
    <div *ngIf="formUsername?.errors?.['minlength']">*must be at least 5
      characters
    </div>
  </div>

  <div class="input-wrapper">
    <label class="font-semibold text-xl">
      email
    </label>
    <input type="email" class="input-element" formControlName="email">

    <div *ngIf="formEmail?.errors?.['required']">*required</div>
    <div *ngIf="formEmail?.errors?.['minlength']">*minimum length is 5</div>
    <div *ngIf="formEmail?.errors?.['email']">*invalid email format</div>
  </div>

  <div class="input-wrapper">
    <label class="font-semibold text-xl">
      password
    </label>
    <input type="password" class="input-element" formControlName="password">
    <div *ngIf="formPassword?.errors?.['required']">*required</div>
    <div *ngIf="formPassword?.errors?.['minlength']">*minimum length is 8</div>
  </div>

  <div class="my-4"></div>

  <div class="flex flex-row gap-2 w-full">
    <button [disabled]="registerForm.invalid" class="submit-button basis-3/5"
      type="submit"
    >register
    </button>

    <div class="flex flex-col items-center justify-center basis-2/5">
      <a routerLink="/auth/login" class="text-theme-2 underline">to login</a>
    </div>
  </div>
</form>
